(this["webpackJsonpseclab-dining-webapp"]=this["webpackJsonpseclab-dining-webapp"]||[]).push([[7],{144:function(e,t,n){var a=n(145);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(40)(a,r);a.locals&&(e.exports=a.locals)},145:function(e,t,n){(t=n(39)(!1)).push([e.i,".Cart {\n    position: -webkit-sticky;\n    position: sticky;\n    bottom: 0;\n    background: white;\n    padding: 1rem;\n    \n    box-shadow: 0 1px 6px rgba(32,33,36,0.28);\n    border-color: rgba(223,225,229,0);\n}\n\n    .Cart .Cart--header {\n        display: flex;\n        justify-content: space-between;\n    }\n\n    .Cart .order-preview {\n        display: flex;\n    }\n\n    .Cart .order-preview .order-detail {\n            display: grid;\n        }\n\n    .Cart .order-preview .order-detail .option {\n                color: gray;\n                text-overflow: ellipsis;\n                overflow: hidden;\n            }",""]),e.exports=t},165:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n(8),l=n(38),u=n(130),i=(n(144),n(346)),o=function(e){var t=e.orderSummary,n=e.index,r=e.removeOrder,l=e.showFullOption;return a.default.createElement("div",{className:"order-preview"},!!r&&a.default.createElement(u.a,{type:"text",size:"small",shape:"circle-outline",icon:a.default.createElement(i.a,null),onClick:function(){return r&&r(n)}}),a.default.createElement("div",{className:"order-detail"},a.default.createElement("div",{className:"title"},!!(t.menuDefault.length>0)&&"[".concat(t.menuDefault,"] "),t.menuName," - ",t.totalPrice," \uc6d0"),a.default.createElement("div",{className:"option",style:{whiteSpace:l?"normal":"nowrap"}},Object.values(t.options).flatMap((function(e){return e})).join(", "))))},c={removeOrder:r.c,submitOrder:r.g},d=Object(l.b)((function(e){return{orderList:e.orderList}}),c)((function(e){var t=e.orderList,n=e.removeOrder,r=e.submitOrder,l=t.reduce((function(e,t){return e+t.totalPrice}),0);return a.default.createElement("div",{className:"Cart"},a.default.createElement("div",{className:"Cart--header"},a.default.createElement("h3",null,"\ucd1d \uae08\uc561 : ",l," \uc6d0"),a.default.createElement(u.a,{type:"primary",size:"small",onClick:function(){if(0===t.length)alert("\uc8fc\ubb38\uc774 \ube44\uc5b4\uc788\uc2b5\ub2c8\ub2e4");else{var e=prompt("\uc8fc\ubb38\uc790 \uc774\ub984\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694");e?r(e):alert("\uc774\ub984\uc744 \uc785\ub825 \ud574 \uc8fc\uc138\uc694")}}},"\uc8fc\ubb38\uc694\uccad")),t.map((function(e,t){return a.default.createElement(o,{orderSummary:e,index:t,removeOrder:n})})))}));t.b=d},201:function(e,t,n){var a=n(202);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(40)(a,r);a.locals&&(e.exports=a.locals)},202:function(e,t,n){(t=n(39)(!1)).push([e.i,".MenuList .MenuList__item {\n        cursor: pointer;\n        width: 100%;\n        transition-duration: 0.2s\n    }\n    .MenuList .MenuList__item:hover {\n            background-color: rgba(216,216,216,0.12941);\n        }\n\n.MenuDetail .title {\n        font-size: 18px;\n    }\n\n.MenuDetail .thumbnail {\n        display: block;\n        margin: auto;\n    }\n\n.MenuDetail .soft-box {\n        box-shadow: 0 1px 6px 0 rgba(32,33,36,0.28);\n        border-radius: 8px;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: space-around;\n        min-height: 60px;\n        margin: 10px;\n        text-align: center;\n    }\n\n.description {\n    color: gray;\n    font-size: 12px;\n}",""]),e.exports=t},344:function(e,t,n){"use strict";n.r(t);var a=n(129),r=n(0),l=n(46),u=n(43),i=n(8),o=n(38),c=n(342),d=n(334),s=n(343),m=n(165),f=n(188),p=n(338),b=n(345),v=n(189),E={display:"block"},h={updateOption:i.i},g=Object(o.b)(null,h),O=function(e){var t=e.optionGroup,n=e.isRadio;return r.default.createElement("h3",null,t.name,!n&&" (\ucd5c\ub300 : ".concat(t.maxOrderableQuantity," \uac1c)"))},y=g((function(e){var t=e.optionGroup,n=e.updateOption,l=t.options,u=t.minOrderableQuantity,i=t.maxOrderableQuantity,o=i===u&&1===i,c=Object(r.useState)(o?l[0].optionId:[]),d=Object(a.a)(c,2),s=d[0],m=d[1],p=Object(r.useState)([]),h=Object(a.a)(p,2),g=h[0],y=h[1],x=function(e){if(!o&&e.length>i)b.b.warning("\ucd5c\ub300 \uc120\ud0dd \uac00\ub2a5 \uac2f\uc218\ub97c \ucd08\uacfc\ud569\ub2c8\ub2e4");else{var a=o?[e]:e;m(e),n({optionGroupId:t.optionGroupId,name:t.name,selected:a})}};Object(r.useEffect)((function(){o?x(l[0].optionId):y(l.map((function(e){return{label:"".concat(e.name," (").concat(e.price," \uc6d0)"),value:e.optionId}})))}),[o,l]);var j=o?f.a.Group:v.a.Group,w=o?f.a:v.a;return r.default.createElement(r.default.Fragment,null,r.default.createElement(O,{optionGroup:t,isRadio:o}),r.default.createElement(j,{options:o?void 0:g,value:s,onChange:function(e){return x(o?e.target.value:e)}},o&&l.map((function(e){return r.default.createElement(w,{style:o?E:{},value:e.optionId},e.name,!!e.price&&"(".concat(e.price,"\uc6d0)"))}))))})),x={updateMenuDefault:function(e){return Object(i.h)(e.target.value)}},j=Object(o.b)((function(e){var t;return{order:e.currentOrder,totalPrice:null===(t=e.currentOrder)||void 0===t?void 0:t.totalPrice}}),x)((function(e){var t=e.order,n=e.updateMenuDefault,a=e.totalPrice;if(!t)return r.default.createElement(r.default.Fragment,null);var l=t.menu,u=l.images;return r.default.createElement("div",{className:"MenuDetail"},!!u.length&&r.default.createElement("img",{className:"thumbnail",alt:"food",src:u[0].url,height:"160"}),r.default.createElement("div",{className:"soft-box"},r.default.createElement("span",{className:"title"},l.name),r.default.createElement("span",{className:"description"},l.description)),r.default.createElement("h3",null,"\uae30\ubcf8"),r.default.createElement(f.a.Group,{defaultValue:l.menuPrices[0].name,onChange:n},l.menuPrices.map((function(e){return r.default.createElement(f.a,{value:e.name},e.name," (",e.price,")")}))),r.default.createElement("br",null),l.optionGroups.map((function(e){return r.default.createElement(r.default.Fragment,null,r.default.createElement("br",null),r.default.createElement(y,{optionGroup:e}))})),r.default.createElement(p.a,null),r.default.createElement("h3",null,"\ucd1d \uac00\uaca9 : ",a,"\uc6d0"))})),w=function(e){var t=e.prices;return t.length>1?r.default.createElement("ul",null,t.map((function(e){return r.default.createElement("li",null,e.name," : ",e.price)}))):r.default.createElement("div",null,t[0].name,t[0].name&&" : ",t[0].price)},C=function(e){var t=e.menu,n=e.onClick;return r.default.createElement("div",{className:"MenuList__item",onClick:n},r.default.createElement("div",null,t.name),r.default.createElement("div",{className:"description"},t.description),r.default.createElement(w,{prices:t.menuPrices}))},k=(n(201),c.a.Panel),I={addOrder:i.b,setCurrentOrder:i.d,setShop:i.f},M=Object(o.b)((function(e){return{shopData:e.shop,currentOrder:e.currentOrder}}),I)((function(e){var t=e.shopData,n=(e.setShop,e.currentOrder),l=e.setCurrentOrder,u=e.addOrder,i=Object(r.useState)([]),o=Object(a.a)(i,2),f=o[0],p=o[1];return Object(r.useEffect)((function(){t&&p(t.groupMenus.map((function(e){return e.menuGroupId.toString()})))}),[t]),r.default.createElement("div",{className:"MenuList"},r.default.createElement("h2",{style:{textAlign:"center",margin:0}},null===t||void 0===t?void 0:t.name),r.default.createElement("br",null),r.default.createElement(c.a,{style:{padding:0},activeKey:f,onChange:function(e){return p(e)}},null===t||void 0===t?void 0:t.groupMenus.map((function(e){return r.default.createElement(k,{header:e.name,key:e.menuGroupId.toString()},r.default.createElement(d.b,{size:"small",dataSource:e.menus,renderItem:function(e){return r.default.createElement(d.b.Item,null,r.default.createElement(C,{onClick:function(){l(e)},menu:e,key:e.menuId}))}}))}))),r.default.createElement(s.a,{title:"\uba54\ub274 \uc635\uc158",visible:!!n,onOk:function(e){u(),l(null)},onCancel:function(e){l(null)},okText:"\ub2f4\uae30",cancelText:"\ucde8\uc18c",destroyOnClose:!0},r.default.createElement(j,null)),r.default.createElement(m.b,null))})),N=n(98),S=n(130),D={setEventId:i.e,setShop:i.f},G=Object(o.b)((function(e){return{shopData:e.shop}}),D);t.default=G((function(e){var t=e.shopData,n=e.match,i=e.setEventId,o=e.setShop,c=n.params.eventId,d=Object(r.useState)(null),s=Object(a.a)(d,2),m=s[0],f=s[1];return Object(r.useEffect)((function(){i(c),Object(u.a)(c).then((function(e){return f(e),Object(u.c)(e.shop.id)})).then((function(e){o(e)})).catch((function(e){o(null),console.error(e)}))}),[c,i,o]),null===t?r.default.createElement(N.a,{status:"404",title:"404",subTitle:"Sorry, failed to load the content."}):r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{style:{width:"fit-content",margin:"auto"}},!!m&&m.title," ",r.default.createElement(S.a,{size:"small",type:"link"},r.default.createElement(l.b,{to:"./".concat(c,"/summary")},"\uc811\uc218 \ud604\ud669"))," ",r.default.createElement("br",null)),r.default.createElement(M,null))}))}}]);